{% extends 'base.html.twig' %}

{% block title %}Register | Bricolage
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" href="{{ asset('styles/register.css') }}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block body %}
	<div class="auth-wrapper">
		<div class="auth-logo">BRICOLAGE</div>
		<a href="{{ path('app_home') }}" class="auth-back-btn">←
			{{ 'Retour au site'|trans }}</a>
		<div class="auth-tagline">Capturing Moments, Creating Memories</div>

		<div class="auth-card animate-fade-in">
			<div class="auth-header">
				<h1>{{ 'Créer un compte'|trans }}</h1>
				<p>{{ "Vous n'avez pas de compte ?"|trans }}
					<a href="{{ path('app_login') }}">{{ 'Se connecter'|trans }}</a>
				</p>
			</div>

			{{ form_start(registrationForm, {'attr': {'class': 'auth-form'}}) }}

			<div class="form-row">
				<div class="form-group">
					<label class="form-label" for="{{ registrationForm.prenom.vars.id }}">{{ 'Prénom'|trans }}</label>
					{{ form_widget(registrationForm.prenom) }}
					{{ form_errors(registrationForm.prenom) }}
				</div>
				<div class="form-group">
					<label class="form-label" for="{{ registrationForm.nom.vars.id }}">{{ 'Nom'|trans }}</label>
					{{ form_widget(registrationForm.nom) }}
					{{ form_errors(registrationForm.nom) }}
				</div>
			</div>

			<div class="form-group">
				{{ form_errors(registrationForm) }}
				<label class="form-label" for="{{ registrationForm.email.vars.id }}">Email</label>
				{{ form_widget(registrationForm.email, {'attr': {'placeholder': 'Email', 'class': 'premium-input', 'autocapitalize': 'none', 'autocorrect': 'off', 'spellcheck': 'false'}}) }}
				{{ form_errors(registrationForm.email) }}
			</div>

			<div class="form-group">
				<label class="form-label" for="{{ registrationForm.plainPassword.vars.id }}">{{ 'Mot de passe'|trans }}</label>
				{{ form_widget(registrationForm.plainPassword, {'attr': {'placeholder': 'Entrez votre mot de passe'|trans, 'class': 'premium-input', 'autocapitalize': 'none', 'autocorrect': 'off', 'spellcheck': 'false'}}) }}
				{{ form_errors(registrationForm.plainPassword) }}
			</div>

			<div class="form-group">
				<label class="form-label">{{ "Je souhaite m'inscrire en tant que :"|trans }}</label>
				<div class="role-grid">
					{% for role in registrationForm.roles %}
						<div class="role-option">
							<input type="radio" id="{{ role.vars.id }}" name="{{ role.vars.full_name }}" value="{{ role.vars.value }}" {% if role.vars.checked %} checked {% endif %}>
							<label for="{{ role.vars.id }}">
								{% if role.vars.label == 'Admin' %}
									<i class="fas fa-user-shield"></i>
								{% elseif role.vars.label == 'Recruteur' %}
									<i class="fas fa-hammer"></i>
								{% else %}
									<i class="fas fa-search"></i>
								{% endif %}
								<span>{{ role.vars.label|trans }}</span>
							</label>
						</div>
					{% endfor %}
				</div>
			</div>

			<div class="form-check">
				{{ form_widget(registrationForm.agreeTerms) }}
				<label for="{{ registrationForm.agreeTerms.vars.id }}">
					{{ "J'accepte les"|trans }}
					<a href="#">{{ "Conditions d'utilisation"|trans }}</a>
				</label>
			</div>

			<button type="submit" class="btn-auth-primary">
				{{ 'Créer un compte'|trans }}
			</button>

			<div class="auth-divider">
				<span>{{ 'Ou inscrivez-vous avec'|trans }}</span>
			</div>

			<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
				<a href="{{ path('connect_google_start') }}" class="google-btn-premium">
					<img src="https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png" alt="Google">
					Google
				</a>
				<a href="#" class="google-btn-premium" style="justify-content: center;">
					<i class="fab fa-apple" style="font-size: 20px;"></i>
					Apple
				</a>
			</div>

			{% do registrationForm.roles.setRendered %}
			{{ form_end(registrationForm) }}
		</div>
	</div>
{% endblock %}
